(this["webpackJsonpsearch-products"]=this["webpackJsonpsearch-products"]||[]).push([[0],{23:function(e,t,c){},24:function(e,t,c){},36:function(e,t,c){"use strict";c.r(t);var n=c(0),s=c.n(n),a=c(4),i=c.n(a),r=(c(23),c(24),c(3)),j=c(11),o=c(58),l=c(1);c(26).config();var u=function(){var e=Object(n.useState)(null),t=Object(r.a)(e,2),c=t[0],s=t[1],a=Object(n.useState)(!1),i=Object(r.a)(a,2),u=i[0],d=i[1],b=Object(n.useState)(!1),h=Object(r.a)(b,2),O=h[0],m=h[1],p=Object(n.useState)(!0),x=Object(r.a)(p,2),f=x[0],g=x[1],v=Object(n.useState)(!1),N=Object(r.a)(v,2),S=N[0],k=N[1],C=Object(n.useState)([]),w=Object(r.a)(C,2),y=w[0],F=w[1],E=Object(n.useState)(!1),L=Object(r.a)(E,2),T=L[0],B=(L[1],Object(n.useState)(!1)),I=Object(r.a)(B,2),J=I[0],P=I[1],A=Object(n.useState)(""),D=Object(r.a)(A,2),M=D[0],Y=D[1],$=Object(n.useState)(["name"]),q=Object(r.a)($,1)[0];function z(e){return e.filter((function(e){return q.some((function(t){return e[t].toString().toLowerCase().indexOf(M.toLowerCase())>-1}))}))}function G(e){Y(e.target.value),d(!0),m(!0),g(!1),e.target.value.length<1&&(d(!1),m(!1),g(!0));setTimeout((function(){m(!1),g(!0)}),1500)}return Object(n.useEffect)((function(){fetch("".concat("https://castlegames.mike-batruch.ca","/api/read.php")).then((function(e){return e.json()})).then((function(e){k(!0),F(e.records)}),(function(e){k(!0),s(e)}))}),[O]),c?Object(l.jsx)(l.Fragment,{children:c.message}):S?Object(l.jsxs)("form",{children:[Object(l.jsxs)(o.a,{open:J,anchor:"top",onClose:function(){P(!1),Y(""),d(!1)},children:[Object(l.jsxs)("div",{className:"input-container popup",children:[Object(l.jsx)("h3",{children:"Search for a product"}),Object(l.jsxs)("div",{className:"relative",children:[Object(l.jsx)("input",{type:"text",placeholder:"Enter keyword to search...",value:M,onChange:G}),f?Object(l.jsx)(j.a,{className:"search-icon"}):"",O?Object(l.jsx)(j.b,{icon:"spinner",className:"spinner"}):""]})]}),Object(l.jsx)("div",{id:"container",children:Object(l.jsx)("ul",{id:"results",className:u?"show":"hide",children:z(y).length>0?z(y).map((function(e,t){return Object(l.jsx)("div",{className:"product",id:e.id,children:Object(l.jsxs)("li",{children:[Object(l.jsx)("div",{className:"img-container",children:Object(l.jsx)("div",{className:"image",children:Object(l.jsx)("img",{src:"https://castlegames.mike-batruch.ca/images/"+e.image,className:"img-fluid",alt:e.name})})}),Object(l.jsxs)("div",{className:"item-meta",children:[Object(l.jsx)("a",{href:"https://castlegames.mike-batruch.ca/product?id="+e.id,className:"product-link title",children:Object(l.jsx)("h2",{children:e.name})}),Object(l.jsxs)("div",{className:"mb-1 price",children:["$",e.price]})]})]})},t)})):Object(l.jsx)("div",{className:"no-results",children:Object(l.jsxs)("h3",{children:["Your search for: ",Object(l.jsx)("b",{children:M})," did not match any products."]})})})})]}),Object(l.jsxs)("div",{className:"input-container",children:[Object(l.jsx)("input",{style:{position:T?"absolute":"relative"},type:"text",placeholder:"Enter keyword to search...",onClick:function(){return P(!0)},onChange:G}),Object(l.jsx)(j.a,{className:"search-icon"})]})]}):Object(l.jsx)(l.Fragment,{children:"loading..."})};var d=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsx)(u,{})})},b=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,59)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,i=t.getTTFB;c(e),n(e),s(e),a(e),i(e)}))};i.a.render(Object(l.jsx)(s.a.StrictMode,{children:Object(l.jsx)(d,{})}),document.getElementById("root")),b()}},[[36,1,2]]]);
//# sourceMappingURL=main.8b555603.chunk.js.map